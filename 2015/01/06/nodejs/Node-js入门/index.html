<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Node.js入门 | ihww&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="参考：http://javascript.ruanyifeng.com/nodejs/basic.html
一、简介
1.1异步加载
单线程，一次只能运行一个任务。某一任务的后续操作，采用回调函数（callback）的形式定义
var isTrue = function(value, callback) {
  if (value === true) {
    callback(null, 'V">
<meta property="og:type" content="article">
<meta property="og:title" content="Node.js入门">
<meta property="og:url" content="http://blog.ihww.cn/2015/01/06/nodejs/Node-js入门/">
<meta property="og:site_name" content="ihww's Blog">
<meta property="og:description" content="参考：http://javascript.ruanyifeng.com/nodejs/basic.html
一、简介
1.1异步加载
单线程，一次只能运行一个任务。某一任务的后续操作，采用回调函数（callback）的形式定义
var isTrue = function(value, callback) {
  if (value === true) {
    callback(null, 'V">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Node.js入门">
<meta name="twitter:description" content="参考：http://javascript.ruanyifeng.com/nodejs/basic.html
一、简介
1.1异步加载
单线程，一次只能运行一个任务。某一任务的后续操作，采用回调函数（callback）的形式定义
var isTrue = function(value, callback) {
  if (value === true) {
    callback(null, 'V">

  
    <link rel="alternative" href="/atom.xml" title="ihww&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href='/'>
			<div class="profilepic">
				<img src="https://avatars0.githubusercontent.com/u/3920346?v=3&amp;s=460">
			</div>
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ihuangweiwei</a></h1>
		</hgroup>

		
		<p class="header-subtitle">懒懒散散，恍恍惚惚，提笔忘字</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/ihuangweiwei" title="github">github</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
								<a class="fm" target="_blank" href="http://fm.ihww.cn" title="fm">fm</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud">
						<a href="/tags/Git/" style="font-size: 10.00px;">Git</a><a href="/tags/Markdown/" style="font-size: 10.00px;">Markdown</a><a href="/tags/idea/" style="font-size: 10.00px;">idea</a><a href="/tags/javascript/" style="font-size: 15.00px;">javascript</a><a href="/tags/nodejs/" style="font-size: 20.00px;">nodejs</a><a href="/tags/ruby/" style="font-size: 10.00px;">ruby</a><a href="/tags/前端构建/" style="font-size: 10.00px;">前端构建</a><a href="/tags/破解/" style="font-size: 10.00px;">破解</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://avatars0.githubusercontent.com/u/3920346?v=3&amp;s=460">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">ihuangweiwei</a></h1>
			</hgroup>
			
			<p class="header-subtitle">懒懒散散，恍恍惚惚，提笔忘字</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ihuangweiwei" title="github">github</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
						<a class="fm" target="_blank" href="http://fm.ihww.cn" title="fm">fm</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <article id="post-nodejs/Node-js入门" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/01/06/nodejs/Node-js入门/" class="article-date">
  	<time datetime="2015-01-06T02:53:46.000Z" itemprop="datePublished">1月 6 2015</time>
</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/">nodejs</a></li></ul>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Node.js入门
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>参考：</strong><a href="http://javascript.ruanyifeng.com/nodejs/basic.html" target="_blank" rel="external">http://javascript.ruanyifeng.com/nodejs/basic.html</a></p>
<h2 id="一、简介">一、简介</h2>
<h3 id="1-1异步加载">1.1异步加载</h3>
<p>单线程，一次只能运行一个任务。某一任务的后续操作，采用回调函数（callback）的形式定义</p>
<pre><code><span class="keyword">var</span> isTrue = <span class="function"><span class="keyword">function</span><span class="params">(value, callback)</span> </span>{
  <span class="keyword">if</span> (value === <span class="literal">true</span>) {
    <span class="keyword">callback</span>(<span class="literal">null</span>, <span class="string">"Value was true."</span>);
  }
  <span class="keyword">else</span> {
    <span class="keyword">callback</span>(<span class="keyword">new</span> Error(<span class="string">"Value is not true!"</span>));
  }
}
</code></pre><p><strong>约定：callback的位置总是最后一个参数值</strong></p>
<p>callback的格式约定</p>
<pre><code>var callback = <span class="function"><span class="keyword">function</span> (</span><span class="built_in">error</span>, value) {
  <span class="keyword">if</span> (<span class="built_in">error</span>) {
    <span class="keyword">return</span> console.<span class="built_in">log</span>(<span class="built_in">error</span>);
  }
  console.<span class="built_in">log</span>(value);
}
</code></pre><p>callback的<code>第一个参数是一个Error对象</code>，第二个参数才是真正的数据。如果没有错误，第一个参数就传入null</p>
<h3 id="1-2全局对象和全局变量">1.2全局对象和全局变量</h3>
<h4 id="全局对象：">全局对象：</h4>
<ul>
<li><code>global:</code>表示Node所在的全局环境</li>
<li><code>process:</code>指向Node内置的process模块，允许开发者与当前进程互动</li>
<li><code>console:</code>指向Node内置的console模块，提供命令行环境中的标准输入、输出功能</li>
</ul>
<h4 id="全局函数：">全局函数：</h4>
<ul>
<li><code>定时器函数:</code>setTimeOut(),clearTimeout(),setInterval(),clearInterval()</li>
<li><code>require:</code>用于加载模块</li>
</ul>
<h4 id="全局变量">全局变量</h4>
<ul>
<li><code>_filename:</code>指向当前允许的脚本文件名</li>
<li><code>_dirname:</code>指向当前运行的脚本所在的目录</li>
</ul>
<h4 id="伪全局变量">伪全局变量</h4>
<ul>
<li><code>module:</code>指代当前模块</li>
<li><code>module.exports:</code>表示当前模块对外输出的接口，其它文件加载该模块，实际上就是读取<code>module.exports</code>变量<blockquote>
<p>module.id 模块的识别符，通常是模块的文件名。<br>module.filename 模块的文件名。<br>module.loaded 返回一个布尔值，表示模块是否已经完成加载。<br>module.parent 返回使用该模块的模块。<br>module.children 返回一个数组，表示该模块要用到的其他模块。</p>
</blockquote>
</li>
<li><code>exports:</code>一个指向module.exports对象的链接，可以向exports对象添加方法，但不能直接将exports变量指向一个函数</li>
</ul>
<h2 id="二、模块化结构">二、模块化结构</h2>
<h3 id="2-1概述">2.1概述</h3>
<p>require方法用于指定加载模块</p>
<pre><code><span class="keyword">var</span> circle = <span class="built_in">require</span>(<span class="string">'./circle.js'</span>);
等同于
<span class="keyword">var</span> circle = <span class="built_in">require</span>(<span class="string">'./circle'</span>);
</code></pre><p>require方法的参数是模块文件的名字。它分成两种情况，第一种情况是参数中含有文件路径（比如上例），这时路径是相对于当前脚本所在的目录，第二种情况是参数中不含有文件路径（比如下例）。</p>
<pre><code><span class="keyword">var</span> bar = <span class="built_in">require</span>(<span class="string">'bar'</span>);
</code></pre><p>node.js依次到下面的目录，去寻找bar模块</p>
<pre><code> ./node_modules/bar
 ../node_modules/bar
 ../../node_modules/bar
 /node_modules/bar
</code></pre><p>如果一个模块本身就是一个目录，目录中包含多个文件。这时候在<code>package.json</code>中，寻找main属性所知名的模块入口文件</p>
<pre><code>{
         "<span class="attribute">name</span>" : <span class="value"><span class="string">"bar"</span></span>,
         "<span class="attribute">main</span>" : <span class="value"><span class="string">"./lib/bar.js"</span>
 </span>}
</code></pre><p>如果没有<code>package.json</code>，则寻找<code>index.js</code>或<code>index.node</code></p>
<p>模块一旦加载，就会缓存</p>
<h3 id="2-2_核心模块">2.2  核心模块</h3>
<pre><code><span class="keyword">http</span>：提供HTTP服务器功能。
url：解析<span class="built_in">URL</span>。
fs：与文件系统交互。
querystring：解析<span class="built_in">URL</span>的查询字符串。
child_process：新建子进程。
util：提供一系列实用小工具。
path：处理文件路径。
crypto：提供加密和解密功能，基本上是对OpenSSL的包装。
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2014/12/18/key/IntelliJ IDEA 14 在线注册机/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">IntelliJ IDEA 14 在线注册机</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style_24x24">
		<a class="jiathis_button_qzone"></a>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_tqq"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_renren"></a>
		<a href="http://www.jiathis.com/share?uid=1995261" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
		<a class="jiathis_counter_style"></a>
	</div>
	<script type="text/javascript">
	var jiathis_config = {data_track_clickback:'true'};
	</script>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1995261" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>





<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="nodejs/Node-js入门" data-title="Node.js入门" data-url="http://blog.ihww.cn/2015/01/06/nodejs/Node-js入门/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"ihww2014"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 ihuangweiwei
    	</div>
    	<div id="cnzz">
    	  <script src="http://s95.cnzz.com/z_stat.php?id=1253871447&web_id=1253871447" language="JavaScript"></script>
    	  <script type="text/javascript">
    	  	document.getElementById("cnzz").style.display="none";
    	  </script>
    	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>

  <script src="/js/main.js" type="text/javascript"></script>


  </div>
</body>
</html>